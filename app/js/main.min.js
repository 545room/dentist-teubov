let hamburger=document.querySelector(".menu-tab"),menu=document.querySelector(".menu-hide"),blockFon=document.querySelector(".black-fon");const toggleMenu=()=>{menu.classList.toggle("display-block")};hamburger.addEventListener("click",(e=>{e.stopPropagation(),toggleMenu(),hamburger.classList.toggle("active"),blockFon.classList.toggle("display-block")})),document.addEventListener("click",(e=>{let t=e.target,o=t==menu||menu.contains(t),l=t==hamburger,n=menu.classList.contains("display-block");o||l||!n||(toggleMenu(),hamburger.classList.toggle("active"),blockFon.classList.toggle("display-block"))})),document.querySelector(".close-serch-clues")?.addEventListener("click",(()=>{document.querySelector(".block-clue").classList.toggle("display-none")}));let search=document.querySelector(".search-filter");search&&(search.onclick=function(e){[].forEach.call(search.querySelectorAll("a"),(function(e){e.classList.remove("search-filter_active")})),e.target.classList.add("search-filter_active")});let fontSetting=document.querySelector(".font-setting_popup"),fontBtn=document.querySelector(".font-setting");const toggleFont=()=>{fontSetting.classList.toggle("display-block")};fontSetting&&fontBtn&&(fontBtn.addEventListener("click",(e=>{e.stopPropagation(),toggleFont()})),document.addEventListener("click",(e=>{let t=e.target,o=t==fontSetting||fontSetting.contains(t),l=t==fontBtn,n=fontSetting.classList.contains("display-block");o||l||!n||toggleFont()})));const decreaseButton=document.getElementById("font-size-minus"),increaseButton=document.getElementById("font-size-plus"),fontSizeDisplay=document.getElementById("font-size-value"),textBlock=document.querySelector(".chapter-block");let fontSize=parseInt(localStorage.getItem("fontSize"))||18;decreaseButton&&increaseButton&&fontSizeDisplay&&textBlock&&(textBlock.style.fontSize=`${fontSize}px`,fontSizeDisplay.innerText=`${fontSize}px`,decreaseButton.addEventListener("click",(function(){fontSize>0&&(fontSize-=1,textBlock.style.fontSize=`${fontSize}px`,fontSizeDisplay.innerText=`${fontSize}px`,localStorage.setItem("fontSize",fontSize))})),increaseButton.addEventListener("click",(function(){fontSize+=1,textBlock.style.fontSize=`${fontSize}px`,fontSizeDisplay.innerText=`${fontSize}px`,localStorage.setItem("fontSize",fontSize)}))),window.onload=function(){let e=document.querySelector(".chapter-block"),t=document.querySelector("#font-height-plus"),o=document.querySelector("#font-height-minus"),l=document.querySelector("#font-height-numb"),n=localStorage.getItem("lineheight"),c=n?parseInt(n):28;e&&t&&o&&l&&(e.style.lineHeight=`${c}px`,l.textContent=`${c}px`,t.addEventListener("click",(function(){c+=1,e.style.lineHeight=`${c}px`,l.textContent=`${c}px`,localStorage.setItem("lineheight",c)})),o.addEventListener("click",(function(){c>1&&(c-=1,e.style.lineHeight=`${c}px`,l.textContent=`${c}px`,localStorage.setItem("lineheight",c))})))};let alignmentBlockItem=document.getElementById("alignment-block__item"),chapterBlock=document.querySelector(".chapter-block");alignmentBlockItem&&chapterBlock&&(localStorage.getItem("textAlignment")&&(chapterBlock.style.textAlign=localStorage.getItem("textAlignment")),"true"===localStorage.getItem("isActive")&&alignmentBlockItem.classList.add("alignment-block__active"),alignmentBlockItem.onclick=function(){this.classList.toggle("alignment-block__active"),localStorage.setItem("isActive",this.classList.contains("alignment-block__active")),"justify"===window.getComputedStyle(chapterBlock).getPropertyValue("text-align")?(chapterBlock.style.textAlign="inherit",localStorage.setItem("textAlignment","inherit")):(chapterBlock.style.textAlign="justify",localStorage.setItem("textAlignment","justify"))});let darkModeDiv=document.querySelector(".darkmode"),darkModeBlockDiv=document.querySelector(".darkmode-block");if(darkModeDiv&&darkModeBlockDiv){function applyDarkMode(){document.body.classList.toggle("dark-theme"),darkModeBlockDiv.classList.toggle("darkmode-block__active"),document.querySelector(".wr-contaner").classList.toggle("dark-theme"),document.querySelector(".logo-light").classList.toggle("display-none"),document.querySelector(".logo-dark").classList.toggle("display-block")}function removeDarkMode(){document.body.classList.toggle("dark-theme"),darkModeBlockDiv.classList.toggle("darkmode-block__active"),document.querySelector(".wr-contaner").classList.toggle("dark-theme"),document.querySelector(".logo-light").classList.toggle("display-none"),document.querySelector(".logo-dark").classList.toggle("display-block")}document.addEventListener("DOMContentLoaded",(e=>{"true"===localStorage.getItem("darkmode")&&applyDarkMode()})),darkModeDiv.onclick=function(){"true"!==localStorage.getItem("darkmode")?(localStorage.setItem("darkmode","true"),applyDarkMode()):(localStorage.removeItem("darkmode"),removeDarkMode())}}